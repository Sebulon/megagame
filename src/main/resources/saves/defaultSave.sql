;             
CREATE USER IF NOT EXISTS "SA" SALT '95799b80744fa372' HASH '0cdd73e665181808fc1daede14bdae834e77ad72651c7f317767e794194a0596' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."CELESTIAL_BODY"(
    "DTYPE" VARCHAR(31) NOT NULL,
    "NAME" VARCHAR(255) NOT NULL,
    "SIZE" INTEGER NOT NULL,
    "TYPE" VARCHAR(255),
    "RESOURCE_QUANTITIES" BINARY(255),
    "RESOURCES" BINARY(255),
    "SATELLITE_WEIGHT" INTEGER,
    "SATELLITES" BINARY(255)
);         
ALTER TABLE "PUBLIC"."CELESTIAL_BODY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("NAME");             
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CELESTIAL_BODY;          
CREATE CACHED TABLE "PUBLIC"."CELESTIAL_BODY_FEATURES"(
    "CELESTIAL_BODY_NAME" VARCHAR(255) NOT NULL,
    "FEATURES_NAME" VARCHAR(255) NOT NULL
);      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CELESTIAL_BODY_FEATURES; 
CREATE CACHED TABLE "PUBLIC"."FEATURE"(
    "NAME" VARCHAR(255) NOT NULL,
    "DESCRIPTION" VARCHAR(255)
);
ALTER TABLE "PUBLIC"."FEATURE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" PRIMARY KEY("NAME");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.FEATURE; 
CREATE CACHED TABLE "PUBLIC"."MAIN_GAME"(
    "SESSION_NAME" VARCHAR(255) NOT NULL,
    "TURN" INTEGER NOT NULL,
    "CURRENT_SYSTEM_NAME" VARCHAR(255)
);
ALTER TABLE "PUBLIC"."MAIN_GAME" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("SESSION_NAME");          
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.MAIN_GAME;               
INSERT INTO "PUBLIC"."MAIN_GAME" VALUES
('First session', 1, NULL);          
CREATE CACHED TABLE "PUBLIC"."MORALE_MINIGAME"(
    "SHIP" VARCHAR(255) NOT NULL,
    "MORALE_SCORE" INTEGER NOT NULL
);   
ALTER TABLE "PUBLIC"."MORALE_MINIGAME" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_33" PRIMARY KEY("SHIP");           
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.MORALE_MINIGAME;         
INSERT INTO "PUBLIC"."MORALE_MINIGAME" VALUES
('High Charity', -5),
('Unyielding Hierophant', -9);          
CREATE CACHED TABLE "PUBLIC"."MORALE_MINIGAME_ALLOCATED_RESOURCES"(
    "MORALE_MINIGAME_SHIP" VARCHAR(255) NOT NULL,
    "ALLOCATED_RESOURCES" INTEGER,
    "ALLOCATED_RESOURCES_KEY" VARCHAR(255) NOT NULL
);           
ALTER TABLE "PUBLIC"."MORALE_MINIGAME_ALLOCATED_RESOURCES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" PRIMARY KEY("MORALE_MINIGAME_SHIP", "ALLOCATED_RESOURCES_KEY");             
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.MORALE_MINIGAME_ALLOCATED_RESOURCES;     
INSERT INTO "PUBLIC"."MORALE_MINIGAME_ALLOCATED_RESOURCES" VALUES
('High Charity', 0, 'FOOD'),
('Unyielding Hierophant', 1, 'FOOD');        
CREATE CACHED TABLE "PUBLIC"."MORALE_MINIGAME_QUANTITY_MORALE_IMPACT"(
    "MORALE_MINIGAME_SHIP" VARCHAR(255) NOT NULL,
    "QUANTITY_MORALE_IMPACT" INTEGER,
    "QUANTITY_MORALE_IMPACT_KEY" INTEGER NOT NULL
);       
ALTER TABLE "PUBLIC"."MORALE_MINIGAME_QUANTITY_MORALE_IMPACT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6" PRIMARY KEY("MORALE_MINIGAME_SHIP", "QUANTITY_MORALE_IMPACT_KEY");       
-- 10 +/- SELECT COUNT(*) FROM PUBLIC.MORALE_MINIGAME_QUANTITY_MORALE_IMPACT; 
INSERT INTO "PUBLIC"."MORALE_MINIGAME_QUANTITY_MORALE_IMPACT" VALUES
('High Charity', -4, 0),
('High Charity', -2, 1),
('High Charity', -1, 3),
('High Charity', 0, 7),
('High Charity', 2, 10),
('Unyielding Hierophant', -4, 0),
('Unyielding Hierophant', -2, 2),
('Unyielding Hierophant', -1, 4),
('Unyielding Hierophant', 0, 8),
('Unyielding Hierophant', 2, 12);           
CREATE CACHED TABLE "PUBLIC"."PLAYER"(
    "ID" VARCHAR(255) NOT NULL,
    "NAME" VARCHAR(255),
    "ROLE" VARCHAR(255)
);
ALTER TABLE "PUBLIC"."PLAYER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");       
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.PLAYER;  
INSERT INTO "PUBLIC"."PLAYER" VALUES
('player1', 'Katja', 'Captain'),
('player2', 'Kaj', 'Scientist'),
('player3', 'Benta', 'Captain'),
('player4', 'Bent', 'Scientist'); 
CREATE CACHED TABLE "PUBLIC"."PLAYER_SHIP"(
    "NAME" VARCHAR(255) NOT NULL,
    "HP" INTEGER NOT NULL,
    "CREW_SIZE" INTEGER NOT NULL,
    "FACTION" VARCHAR(255),
    "MAXHP" INTEGER NOT NULL,
    "TEAM_NAME" VARCHAR(255)
);   
ALTER TABLE "PUBLIC"."PLAYER_SHIP" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_A" PRIMARY KEY("NAME");
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.PLAYER_SHIP;             
INSERT INTO "PUBLIC"."PLAYER_SHIP" VALUES
('High Charity', 10, 7, 'The Covenant', 10, 'TestTeam1'),
('Unyielding Hierophant', 40, 8, 'The Covenant', 40, 'TestTeam2');      
CREATE CACHED TABLE "PUBLIC"."PLAYER_SHIP_RESOURCES"(
    "PLAYER_SHIP_NAME" VARCHAR(255) NOT NULL,
    "RESOURCES" INTEGER,
    "RESOURCES_KEY" VARCHAR(255) NOT NULL
); 
ALTER TABLE "PUBLIC"."PLAYER_SHIP_RESOURCES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("PLAYER_SHIP_NAME", "RESOURCES_KEY");         
-- 8 +/- SELECT COUNT(*) FROM PUBLIC.PLAYER_SHIP_RESOURCES;   
INSERT INTO "PUBLIC"."PLAYER_SHIP_RESOURCES" VALUES
('High Charity', 50, 'FUEL'),
('High Charity', 30, 'MATERIALS'),
('High Charity', 0, 'FOOD'),
('High Charity', 0, 'WATER'),
('Unyielding Hierophant', 50, 'FUEL'),
('Unyielding Hierophant', 30, 'MATERIALS'),
('Unyielding Hierophant', 7, 'FOOD'),
('Unyielding Hierophant', 0, 'WATER');       
CREATE CACHED TABLE "PUBLIC"."SOLAR_SYSTEM"(
    "NAME" VARCHAR(255) NOT NULL,
    "SIZE" INTEGER NOT NULL
);              
ALTER TABLE "PUBLIC"."SOLAR_SYSTEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("NAME");               
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.SOLAR_SYSTEM;            
CREATE CACHED TABLE "PUBLIC"."SOLAR_SYSTEM_OBJECTS"(
    "SOLAR_SYSTEM_NAME" VARCHAR(255) NOT NULL,
    "OBJECTS_NAME" VARCHAR(255) NOT NULL
);            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.SOLAR_SYSTEM_OBJECTS;    
CREATE CACHED TABLE "PUBLIC"."TEAM"(
    "NAME" VARCHAR(255) NOT NULL
);    
ALTER TABLE "PUBLIC"."TEAM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("NAME");       
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.TEAM;    
INSERT INTO "PUBLIC"."TEAM" VALUES
('TestTeam1'),
('TestTeam2');            
CREATE CACHED TABLE "PUBLIC"."TEAM_MEMBERS"(
    "TEAM_NAME" VARCHAR(255) NOT NULL,
    "MEMBERS_ID" VARCHAR(255) NOT NULL
);              
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.TEAM_MEMBERS;            
INSERT INTO "PUBLIC"."TEAM_MEMBERS" VALUES
('TestTeam1', 'player1'),
('TestTeam1', 'player2'),
('TestTeam2', 'player3'),
('TestTeam2', 'player4');        
CREATE CACHED TABLE "PUBLIC"."TEST_SHIP"(
    "NAME" VARCHAR(255) NOT NULL,
    "HP" INTEGER NOT NULL,
    "CREW_SIZE" INTEGER NOT NULL,
    "FACTION" VARCHAR(255),
    "MAXHP" INTEGER NOT NULL
);    
ALTER TABLE "PUBLIC"."TEST_SHIP" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_61" PRIMARY KEY("NAME"); 
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TEST_SHIP;               
ALTER TABLE "PUBLIC"."TEAM_MEMBERS" ADD CONSTRAINT "PUBLIC"."UK_4ADET9N1MFA8WY3WBE963BT36" UNIQUE("MEMBERS_ID");              
ALTER TABLE "PUBLIC"."SOLAR_SYSTEM_OBJECTS" ADD CONSTRAINT "PUBLIC"."UK_D3QWNSHH9BU2NIAG9C5B376PP" UNIQUE("OBJECTS_NAME");    
ALTER TABLE "PUBLIC"."MORALE_MINIGAME_ALLOCATED_RESOURCES" ADD CONSTRAINT "PUBLIC"."FK8PFNVRD36KOG7I3BEGQ5OE9MF" FOREIGN KEY("MORALE_MINIGAME_SHIP") REFERENCES "PUBLIC"."MORALE_MINIGAME"("SHIP") NOCHECK;   
ALTER TABLE "PUBLIC"."CELESTIAL_BODY_FEATURES" ADD CONSTRAINT "PUBLIC"."FK7J3L3OCRJCA3OH56FSP6TWMUS" FOREIGN KEY("CELESTIAL_BODY_NAME") REFERENCES "PUBLIC"."CELESTIAL_BODY"("NAME") NOCHECK; 
ALTER TABLE "PUBLIC"."SOLAR_SYSTEM_OBJECTS" ADD CONSTRAINT "PUBLIC"."FKEDF4SS9U0COYPRFL593BS0NHO" FOREIGN KEY("OBJECTS_NAME") REFERENCES "PUBLIC"."CELESTIAL_BODY"("NAME") NOCHECK;           
ALTER TABLE "PUBLIC"."TEAM_MEMBERS" ADD CONSTRAINT "PUBLIC"."FKD3E48FOD5EMKU9JU5YG1IX4M2" FOREIGN KEY("MEMBERS_ID") REFERENCES "PUBLIC"."PLAYER"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."PLAYER_SHIP" ADD CONSTRAINT "PUBLIC"."FK5D9V073HPQQG41SVQDL8IFIA2" FOREIGN KEY("TEAM_NAME") REFERENCES "PUBLIC"."TEAM"("NAME") NOCHECK; 
ALTER TABLE "PUBLIC"."CELESTIAL_BODY_FEATURES" ADD CONSTRAINT "PUBLIC"."FKMC645KPS4WXY8Q6NHTCDEOEUI" FOREIGN KEY("FEATURES_NAME") REFERENCES "PUBLIC"."FEATURE"("NAME") NOCHECK;              
ALTER TABLE "PUBLIC"."MAIN_GAME" ADD CONSTRAINT "PUBLIC"."FK1YHIUE1UUNJL2UDNUHRECD1AX" FOREIGN KEY("CURRENT_SYSTEM_NAME") REFERENCES "PUBLIC"."SOLAR_SYSTEM"("NAME") NOCHECK; 
ALTER TABLE "PUBLIC"."TEAM_MEMBERS" ADD CONSTRAINT "PUBLIC"."FKEBPB1BV82NN9C5MJYXYXDC5WN" FOREIGN KEY("TEAM_NAME") REFERENCES "PUBLIC"."TEAM"("NAME") NOCHECK;
ALTER TABLE "PUBLIC"."PLAYER_SHIP_RESOURCES" ADD CONSTRAINT "PUBLIC"."FK20OPHSGK8QWULC63QLRJBCVUI" FOREIGN KEY("PLAYER_SHIP_NAME") REFERENCES "PUBLIC"."PLAYER_SHIP"("NAME") NOCHECK;         
ALTER TABLE "PUBLIC"."MORALE_MINIGAME_QUANTITY_MORALE_IMPACT" ADD CONSTRAINT "PUBLIC"."FK5Q09656DS6694C9SQRNHPNOI6" FOREIGN KEY("MORALE_MINIGAME_SHIP") REFERENCES "PUBLIC"."MORALE_MINIGAME"("SHIP") NOCHECK;
ALTER TABLE "PUBLIC"."SOLAR_SYSTEM_OBJECTS" ADD CONSTRAINT "PUBLIC"."FK4GM7N97JUPX9YSKCRNIIT87AN" FOREIGN KEY("SOLAR_SYSTEM_NAME") REFERENCES "PUBLIC"."SOLAR_SYSTEM"("NAME") NOCHECK;        
ALTER TABLE "PUBLIC"."MORALE_MINIGAME" ADD CONSTRAINT "PUBLIC"."FKSSDUSF4X6XJDA673T9IFV6CO9" FOREIGN KEY("SHIP") REFERENCES "PUBLIC"."PLAYER_SHIP"("NAME") NOCHECK;           
